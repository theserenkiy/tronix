.include "C:\avr\includes\m48def.inc"

	LDI R16, 0b11111101
	OUT DDRB, R16

	LDI R20,0

MAIN:
	RCALL DELAY

	SBIS PINB,1
	RJMP BUTTON_NOT_PRESSED

	SBRS R20,0
	RCALL TOGGLE_LED
	RJMP MAIN

BUTTON_NOT_PRESSED:
	LDI R20,0
	RJMP MAIN


TOGGLE_LED:
	LDI R20,1
	SBIS PORTB,2
	RJMP _LED_ON
	CBI PORTB,2
	RET

_LED_ON:	SBI PORTB,2
	RET



DELAY:
	LDI R16, 0
	LDI R17,52

_LOOP:
	DEC R16
	BRNE _LOOP
	DEC R17
	BRNE _LOOP
	RET


