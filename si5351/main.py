import machine
from machine import Pin, SoftI2C
import time

Pin(32,Pin.OUT,value=1,drive=Pin.DRIVE_3)   #powering SI5351 from pin 
                                            #when powered directly from 3v3 line - programming fails )

i2c = SoftI2C(scl=Pin(12), sda=Pin(14), freq=400000)

print('Found I2C devices:',i2c.scan())


def write_regs(list):
    for pair in list:
        i2c.writeto(96,bytearray(pair))

write_regs(
[
    [3,0xff],
    [2,0],
    [16,0x80],
    [17,0x80],
    [18,0x80],
    [19,0x80],
    [20,0x80],
    [21,0x80],
    [22,0x80],
    [23,0x80],

	[ 0x0002, 0x53 ],
	[ 0x0003, 0x00 ],
	[ 0x0004, 0x20 ],
	[ 0x0007, 0x00 ],
	[ 0x000F, 0x00 ],
	[ 0x0010, 0x4F ],
	[ 0x0011, 0x8C ],
	[ 0x0012, 0x8C ],
	[ 0x0013, 0x8C ],
	[ 0x0014, 0x8C ],
	[ 0x0015, 0x8C ],
	[ 0x0016, 0x8C ],
	[ 0x0017, 0x8C ],
	[ 0x001A, 0x00 ],
	[ 0x001B, 0x19 ],
	[ 0x001C, 0x00 ],
	[ 0x001D, 0x0D ],
	[ 0x001E, 0xF5 ],
	[ 0x001F, 0x00 ],
	[ 0x0020, 0x00 ],
	[ 0x0021, 0x13 ],
	[ 0x002A, 0x00 ],
	[ 0x002B, 0x01 ],
	[ 0x002C, 0x0C ],
	[ 0x002D, 0x00 ],
	[ 0x002E, 0x00 ],
	[ 0x002F, 0x00 ],
	[ 0x0030, 0x00 ],
	[ 0x0031, 0x00 ],
	[ 0x005A, 0x00 ],
	[ 0x005B, 0x00 ],
	[ 0x0095, 0x00 ],
	[ 0x0096, 0x00 ],
	[ 0x0097, 0x00 ],
	[ 0x0098, 0x00 ],
	[ 0x0099, 0x00 ],
	[ 0x009A, 0x00 ],
	[ 0x009B, 0x00 ],
	[ 0x00A2, 0x00 ],
	[ 0x00A3, 0x00 ],
	[ 0x00A4, 0x00 ],
	[ 0x00A5, 0x00 ],
	[ 0x00B7, 0xD2 ]

]
)